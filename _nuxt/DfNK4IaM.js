import{t as E,a as Y,b as W,i as J,c as X,n as H,u as K,d as Q,e as N,f as Z}from"./DzPUu5qd.js";import{ah as k,r as _,aE as ee,N as C,S as $,a1 as I,o as te,a6 as ne}from"./CX0YGnEc.js";function S(e){var o;const i=E(e);return(o=i==null?void 0:i.$el)!=null?o:i}const O=J?window:void 0;function j(...e){let o,i,d,a;if(typeof e[0]=="string"||Array.isArray(e[0])?([i,d,a]=e,o=O):[o,i,d,a]=e,!o)return H;Array.isArray(i)||(i=[i]),Array.isArray(d)||(d=[d]);const f=[],u=()=>{f.forEach(v=>v()),f.length=0},n=(v,t,c,m)=>(v.addEventListener(t,c,m),()=>v.removeEventListener(t,c,m)),s=I(()=>[S(o),E(a)],([v,t])=>{if(u(),!v)return;const c=Z(t)?{...t}:t;f.push(...i.flatMap(m=>d.map(p=>n(v,m,p,c))))},{immediate:!0,flush:"post"}),r=()=>{s(),u()};return W(r),r}function oe(){const e=_(!1),o=ne();return o&&te(()=>{e.value=!0},o),e}function se(e){const o=oe();return C(()=>(o.value,!!e()))}function le(e,o={}){const{immediate:i=!0,fpsLimit:d=void 0,window:a=O}=o,f=_(!1),u=d?1e3/d:null;let n=0,s=null;function r(c){if(!f.value||!a)return;n||(n=c);const m=c-n;if(u&&m<u){s=a.requestAnimationFrame(r);return}n=c,e({delta:m,timestamp:c}),s=a.requestAnimationFrame(r)}function v(){!f.value&&a&&(f.value=!0,n=0,s=a.requestAnimationFrame(r))}function t(){f.value=!1,s!=null&&a&&(a.cancelAnimationFrame(s),s=null)}return i&&v(),W(t),{isActive:ee(f),pause:t,resume:v}}function re(e,o,i={}){const{window:d=O,...a}=i;let f;const u=se(()=>d&&"ResizeObserver"in d),n=()=>{f&&(f.disconnect(),f=void 0)},s=C(()=>Array.isArray(e)?e.map(t=>S(t)):[S(e)]),r=I(s,t=>{if(n(),u.value&&d){f=new ResizeObserver(o);for(const c of t)c&&f.observe(c,a)}},{immediate:!0,flush:"post"}),v=()=>{n(),r()};return W(v),{isSupported:u,stop:v}}function ce(e,o={width:0,height:0},i={}){const{window:d=O,box:a="content-box"}=i,f=C(()=>{var t,c;return(c=(t=S(e))==null?void 0:t.namespaceURI)==null?void 0:c.includes("svg")}),u=_(o.width),n=_(o.height),{stop:s}=re(e,([t])=>{const c=a==="border-box"?t.borderBoxSize:a==="content-box"?t.contentBoxSize:t.devicePixelContentBoxSize;if(d&&f.value){const m=S(e);if(m){const p=m.getBoundingClientRect();u.value=p.width,n.value=p.height}}else if(c){const m=Array.isArray(c)?c:[c];u.value=m.reduce((p,{inlineSize:y})=>p+y,0),n.value=m.reduce((p,{blockSize:y})=>p+y,0)}else u.value=t.contentRect.width,n.value=t.contentRect.height},i);N(()=>{const t=S(e);t&&(u.value="offsetWidth"in t?t.offsetWidth:o.width,n.value="offsetHeight"in t?t.offsetHeight:o.height)});const r=I(()=>S(e),t=>{u.value=t?o.width:0,n.value=t?o.height:0});function v(){s(),r()}return{width:u,height:n,stop:v}}const R=new Map;function ae(e){const o=k();function i(n){var s;const r=R.get(e)||new Set;r.add(n),R.set(e,r);const v=()=>a(n);return(s=o==null?void 0:o.cleanups)==null||s.push(v),v}function d(n){function s(...r){a(s),n(...r)}return i(s)}function a(n){const s=R.get(e);s&&(s.delete(n),s.size||f())}function f(){R.delete(e)}function u(n,s){var r;(r=R.get(e))==null||r.forEach(v=>v(n,s))}return{on:i,once:d,off:a,emit:u,reset:f}}const G=1;function fe(e,o={}){const{throttle:i=0,idle:d=200,onStop:a=H,onScroll:f=H,offset:u={left:0,right:0,top:0,bottom:0},eventListenerOptions:n={capture:!1,passive:!0},behavior:s="auto",window:r=O,onError:v=l=>{console.error(l)}}=o,t=_(0),c=_(0),m=C({get(){return t.value},set(l){y(l,void 0)}}),p=C({get(){return c.value},set(l){y(void 0,l)}});function y(l,x){var h,F,L,A;if(!r)return;const b=E(e);if(!b)return;(L=b instanceof Document?r.document.body:b)==null||L.scrollTo({top:(h=E(x))!=null?h:p.value,left:(F=E(l))!=null?F:m.value,behavior:E(s)});const M=((A=b==null?void 0:b.document)==null?void 0:A.documentElement)||(b==null?void 0:b.documentElement)||b;m!=null&&(t.value=M.scrollLeft),p!=null&&(c.value=M.scrollTop)}const B=_(!1),w=$({left:!0,right:!1,top:!0,bottom:!1}),g=$({left:!1,right:!1,top:!1,bottom:!1}),q=l=>{B.value&&(B.value=!1,g.left=!1,g.right=!1,g.top=!1,g.bottom=!1,a(l))},U=K(q,i+d),D=l=>{var x;if(!r)return;const h=((x=l==null?void 0:l.document)==null?void 0:x.documentElement)||(l==null?void 0:l.documentElement)||S(l),{display:F,flexDirection:L}=getComputedStyle(h),A=h.scrollLeft;g.left=A<t.value,g.right=A>t.value;const b=Math.abs(A)<=(u.left||0),M=Math.abs(A)+h.clientWidth>=h.scrollWidth-(u.right||0)-G;F==="flex"&&L==="row-reverse"?(w.left=M,w.right=b):(w.left=b,w.right=M),t.value=A;let T=h.scrollTop;l===r.document&&!T&&(T=r.document.body.scrollTop),g.top=T<c.value,g.bottom=T>c.value;const V=Math.abs(T)<=(u.top||0),P=Math.abs(T)+h.clientHeight>=h.scrollHeight-(u.bottom||0)-G;F==="flex"&&L==="column-reverse"?(w.top=P,w.bottom=V):(w.top=V,w.bottom=P),c.value=T},z=l=>{var x;if(!r)return;const h=(x=l.target.documentElement)!=null?x:l.target;D(h),B.value=!0,U(l),f(l)};return j(e,"scroll",i?Q(z,i,!0,!1):z,n),N(()=>{try{const l=E(e);if(!l)return;D(l)}catch(l){v(l)}}),j(e,"scrollend",q,n),{x:m,y:p,isScrolling:B,arrivedState:w,directions:g,measure(){const l=E(e);r&&l&&D(l)}}}function de(e={}){const{controls:o=!1,offset:i=0,immediate:d=!0,interval:a="requestAnimationFrame",callback:f}=e,u=_(X()+i),n=()=>u.value=X()+i,s=f?()=>{n(),f(u.value)}:n,r=a==="requestAnimationFrame"?le(s,{immediate:d}):Y(s,a,{immediate:d});return o?{timestamp:u,...r}:u}export{S as a,de as b,fe as c,ce as d,re as e,ae as u};
