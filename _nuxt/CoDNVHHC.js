import{_ as R}from"./DwTAStO6.js";import{_ as T}from"./BOiS96ur.js";import{u as M,U as Y}from"./DLGI8bqM.js";import{E as D,G as F,j as N,d as P,c as d,i as m,g as f,e as U,n as y,H as v,I as k,J as S,F as z,A as E,t as V,K as H,L as J,M as L,N as j,r as A,O as G,P as B,Q,o as W,b as Z,R as K,S as X,f as g,w as q,D as O,U as _,V as x}from"./CviWRkU7.js";import{u as ee}from"./dd-_eo7v.js";import{u as te}from"./DQQ0svqJ.js";import"./Bi3l48T6.js";import"./0Xlz8uzm.js";import"./UbtjZav2.js";import"./CO4UPVZf.js";import"./D63A-p-f.js";const re={wrapper:"",inner:"",label:{wrapper:"flex content-center items-center justify-between",base:"block font-medium text-gray-700 dark:text-gray-200",required:"after:content-['*'] after:ms-0.5 after:text-red-500 dark:after:text-red-400"},size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base"},container:"mt-1 relative",description:"text-gray-500 dark:text-gray-400",hint:"text-gray-500 dark:text-gray-400",help:"mt-2 text-gray-500 dark:text-gray-400",error:"mt-2 text-red-500 dark:text-red-400",default:{size:"sm"}},I=D(F.ui.strategy,F.ui.formGroup,re),ae=P({inheritAttrs:!1,props:{name:{type:String,default:null},size:{type:String,default:null,validator(e){return Object.keys(I.size).includes(e)}},label:{type:String,default:null},description:{type:String,default:null},required:{type:Boolean,default:!1},help:{type:String,default:null},error:{type:[String,Boolean],default:null},hint:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},eagerValidation:{type:Boolean,default:!1}},setup(e){const{ui:n,attrs:r}=M("formGroup",J(e,"ui"),I,J(e,"class")),o=L("form-errors",null),l=j(()=>{var s,c;return e.error&&typeof e.error=="string"||typeof e.error=="boolean"?e.error:(c=(s=o==null?void 0:o.value)==null?void 0:s.find(w=>w.path===e.name))==null?void 0:c.message}),a=j(()=>n.value.size[e.size??I.default.size]),u=A(G());return B("form-group",{error:l,inputId:u,name:j(()=>e.name),size:j(()=>e.size),eagerValidation:j(()=>e.eagerValidation)}),{ui:n,attrs:r,inputId:u,size:a,error:l}}}),se=["for"];function oe(e,n,r,o,l,a){return m(),d("div",S({class:e.ui.wrapper},e.attrs),[f("div",{class:y(e.ui.inner)},[e.label||e.$slots.label?(m(),d("div",{key:0,class:y([e.ui.label.wrapper,e.size])},[f("label",{for:e.inputId,class:y([e.ui.label.base,e.required?e.ui.label.required:""])},[e.$slots.label?v(e.$slots,"label",k(S({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(m(),d(z,{key:1},[E(V(e.label),1)],64))],10,se),e.hint||e.$slots.hint?(m(),d("span",{key:0,class:y([e.ui.hint])},[e.$slots.hint?v(e.$slots,"hint",k(S({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(m(),d(z,{key:1},[E(V(e.hint),1)],64))],2)):U("",!0)],2)):U("",!0),e.description||e.$slots.description?(m(),d("p",{key:1,class:y([e.ui.description,e.size])},[e.$slots.description?v(e.$slots,"description",k(S({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(m(),d(z,{key:1},[E(V(e.description),1)],64))],2)):U("",!0)],2),f("div",{class:y([e.label?e.ui.container:""])},[v(e.$slots,"default",k(H({error:e.error}))),typeof e.error=="string"&&e.error||e.$slots.error?(m(),d("p",{key:0,class:y([e.ui.error,e.size])},[e.$slots.error?v(e.$slots,"error",k(S({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(m(),d(z,{key:1},[E(V(e.error),1)],64))],2)):e.help||e.$slots.help?(m(),d("p",{key:1,class:y([e.ui.help,e.size])},[e.$slots.help?v(e.$slots,"help",k(S({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(m(),d(z,{key:1},[E(V(e.help),1)],64))],2)):U("",!0)],2)],16)}const ne=N(ae,[["render",oe]]);class C extends Error{constructor(n){super(n),this.message=n,Object.setPrototypeOf(this,C.prototype)}}const ie=P({props:{schema:{type:Object,default:void 0},state:{type:Object,required:!0},validate:{type:Function,default:()=>[]},validateOn:{type:Array,default:()=>["blur","input","change","submit"]}},emits:["submit","error"],setup(e,{expose:n,emit:r}){const o=G(),l=ee(`form-${o}`);W(()=>{l.on(async t=>{var i;t.type!=="submit"&&((i=e.validateOn)!=null&&i.includes(t.type))&&await c(t.path,{silent:!0})})}),Z(()=>{l.reset()});const a=A([]);B("form-errors",a),B("form-events",l);const u=A({});B("form-inputs",u);async function s(){let t=await e.validate(e.state);if(e.schema)if(me(e.schema))t=t.concat(await pe(e.state,e.schema));else if(le(e.schema))t=t.concat(await de(e.state,e.schema));else if(fe(e.schema))t=t.concat(await he(e.state,e.schema));else if(ye(e.schema))t=t.concat(await ge(e.state,e.schema));else throw new Error("Form validation failed: Unsupported form schema");return t}async function c(t,i={silent:!1}){let p=t;if(t&&!Array.isArray(t)&&(p=[t]),p){const h=a.value.filter($=>!p.includes($.path)),b=(await s()).filter($=>p.includes($.path));a.value=h.concat(b)}else a.value=await s();if(a.value.length>0){if(i.silent)return!1;throw new C(`Form validation failed: ${JSON.stringify(a.value,null,2)}`)}return e.state}async function w(t){var p;const i=t;try{(p=e.validateOn)!=null&&p.includes("submit")&&await c();const h={...i,data:e.state};r("submit",h)}catch(h){if(!(h instanceof C))throw h;const b={...i,errors:a.value.map($=>({...$,id:u.value[$.path]}))};r("error",b)}}return n({validate:c,errors:a,setErrors(t,i){a.value=t,i?a.value=a.value.filter(p=>p.path!==i).concat(t):a.value=t},async submit(){await w(new Event("submit"))},getErrors(t){return t?a.value.filter(i=>i.path===t):a.value},clear(t){t?a.value=a.value.filter(i=>i.path!==t):a.value=[]}}),{onSubmit:w}}});function le(e){return e.validate&&e.__isYupSchema__}function ue(e){return e.inner!==void 0}async function de(e,n){try{return await n.validate(e,{abortEarly:!1}),[]}catch(r){if(ue(r))return r.inner.map(o=>({path:o.path??"",message:o.message}));throw r}}function me(e){return e.parse!==void 0}async function pe(e,n){const r=await n.safeParseAsync(e);return r.success===!1?r.error.issues.map(o=>({path:o.path.join("."),message:o.message})):[]}function fe(e){return e.validateAsync!==void 0&&e.id!==void 0}function ce(e){return e.isJoi===!0}async function he(e,n){try{return await n.validateAsync(e,{abortEarly:!1}),[]}catch(r){if(ce(r))return r.details.map(o=>({path:o.path.join("."),message:o.message}));throw r}}function ye(e){return e._parse!==void 0}async function ge(e,n){const r=await n._parse(e);return r.issues?r.issues.map(o=>{var l;return{path:((l=o.path)==null?void 0:l.map(a=>a.key).join("."))||"",message:o.message}}):[]}function be(e,n,r,o,l,a){return m(),d("form",{onSubmit:n[0]||(n[0]=Q((...u)=>e.onSubmit&&e.onSubmit(...u),["prevent"]))},[v(e.$slots,"default")],32)}const ve=N(ie,[["render",be]]),we={class:"dark:bg-gray-800 flex justify-center items-center h-screen"},$e={class:"absolute top-5 right-5 space-x-2"},ke={class:"lg:p-36 md:p-40 sm:20 p-8 w-full lg:w-1/2"},Se={class:"ring-2 ring-gray-200 dark:ring-gray-600 rounded p-6"},Pe=P({__name:"login",setup(e){const{t:n}=K();te();const r=X({email:void 0,password:void 0}),o=async()=>{x("/")},l=u=>{const s=[];return u.email||s.push({path:"email",message:"Required"}),u.password||s.push({path:"password",message:"Required"}),s};async function a(u){console.log(u.data),o()}return(u,s)=>{const c=_("ColorThemeSelector"),w=R,t=T,i=ne,p=Y,h=ve;return m(),d("div",we,[s[5]||(s[5]=f("div",{class:"w-1/2 h-screen hidden lg:block"},[f("img",{src:"https://images.unsplash.com/photo-1496917756835-20cb06e75b4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1908&q=80",alt:"Placeholder Image",class:"object-cover w-full h-full"})],-1)),f("div",$e,[g(c),g(w)]),f("div",ke,[f("div",Se,[s[3]||(s[3]=f("h1",{class:"text-2xl font-semibold mb-4"},"Login",-1)),g(h,{validate:l,state:O(r),class:"space-y-4",onSubmit:a},{default:q(()=>[g(i,{required:"",label:"Email",help:"We'll only use this for spam ;)",class:"mb-4"},{default:q(()=>[g(t,{placeholder:"you@example.com",icon:"i-heroicons-envelope",modelValue:O(r).email,"onUpdate:modelValue":s[0]||(s[0]=b=>O(r).email=b)},null,8,["modelValue"])]),_:1}),g(i,{label:"Password",required:""},{default:q(()=>[g(t,{type:"password",placeholder:"******",icon:"i-heroicons-key",modelValue:O(r).password,"onUpdate:modelValue":s[1]||(s[1]=b=>O(r).password=b)},null,8,["modelValue"])]),_:1}),g(p,{type:"submit",block:"",size:"xl"},{default:q(()=>s[2]||(s[2]=[E(" Log in ")])),_:1})]),_:1},8,["state"]),s[4]||(s[4]=f("div",{class:"mt-6 text-center"},[f("a",{href:"#",class:"hover:text-primary-600"},"Sign up Here")],-1))])])])}}});export{Pe as default};
