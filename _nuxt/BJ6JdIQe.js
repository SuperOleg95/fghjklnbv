import{t as E,a as X,u as J,b as W,c as U,d as K,e as N,n as H,i as Q,f as Z}from"./24b0vS4w.js";import{r as _,aP as k,X as C,M as I,aj as ee,a3 as j,o as te,a4 as ne}from"./Dryw_uLv.js";function S(e){var o;const u=E(e);return(o=u==null?void 0:u.$el)!=null?o:u}const O=Z?window:void 0;function $(...e){let o,u,d,a;if(typeof e[0]=="string"||Array.isArray(e[0])?([u,d,a]=e,o=O):[o,u,d,a]=e,!o)return H;Array.isArray(u)||(u=[u]),Array.isArray(d)||(d=[d]);const f=[],i=()=>{f.forEach(v=>v()),f.length=0},n=(v,t,c,m)=>(v.addEventListener(t,c,m),()=>v.removeEventListener(t,c,m)),s=I(()=>[S(o),E(a)],([v,t])=>{if(i(),!v)return;const c=Q(t)?{...t}:t;f.push(...u.flatMap(m=>d.map(p=>n(v,m,p,c))))},{immediate:!0,flush:"post"}),r=()=>{s(),i()};return W(r),r}function oe(){const e=_(!1),o=ne();return o&&te(()=>{e.value=!0},o),e}function se(e){const o=oe();return C(()=>(o.value,!!e()))}function le(e,o={}){const{immediate:u=!0,fpsLimit:d=void 0,window:a=O}=o,f=_(!1),i=d?1e3/d:null;let n=0,s=null;function r(c){if(!f.value||!a)return;n||(n=c);const m=c-n;if(i&&m<i){s=a.requestAnimationFrame(r);return}n=c,e({delta:m,timestamp:c}),s=a.requestAnimationFrame(r)}function v(){!f.value&&a&&(f.value=!0,n=0,s=a.requestAnimationFrame(r))}function t(){f.value=!1,s!=null&&a&&(a.cancelAnimationFrame(s),s=null)}return u&&v(),W(t),{isActive:k(f),pause:t,resume:v}}function re(e,o,u={}){const{window:d=O,...a}=u;let f;const i=se(()=>d&&"ResizeObserver"in d),n=()=>{f&&(f.disconnect(),f=void 0)},s=C(()=>Array.isArray(e)?e.map(t=>S(t)):[S(e)]),r=I(s,t=>{if(n(),i.value&&d){f=new ResizeObserver(o);for(const c of t)c&&f.observe(c,a)}},{immediate:!0,flush:"post"}),v=()=>{n(),r()};return W(v),{isSupported:i,stop:v}}function ce(e,o={width:0,height:0},u={}){const{window:d=O,box:a="content-box"}=u,f=C(()=>{var t,c;return(c=(t=S(e))==null?void 0:t.namespaceURI)==null?void 0:c.includes("svg")}),i=_(o.width),n=_(o.height),{stop:s}=re(e,([t])=>{const c=a==="border-box"?t.borderBoxSize:a==="content-box"?t.contentBoxSize:t.devicePixelContentBoxSize;if(d&&f.value){const m=S(e);if(m){const p=m.getBoundingClientRect();i.value=p.width,n.value=p.height}}else if(c){const m=Array.isArray(c)?c:[c];i.value=m.reduce((p,{inlineSize:y})=>p+y,0),n.value=m.reduce((p,{blockSize:y})=>p+y,0)}else i.value=t.contentRect.width,n.value=t.contentRect.height},u);U(()=>{const t=S(e);t&&(i.value="offsetWidth"in t?t.offsetWidth:o.width,n.value="offsetHeight"in t?t.offsetHeight:o.height)});const r=I(()=>S(e),t=>{i.value=t?o.width:0,n.value=t?o.height:0});function v(){s(),r()}return{width:i,height:n,stop:v}}const R=new Map;function ae(e){const o=ee();function u(n){var s;const r=R.get(e)||new Set;r.add(n),R.set(e,r);const v=()=>a(n);return(s=o==null?void 0:o.cleanups)==null||s.push(v),v}function d(n){function s(...r){a(s),n(...r)}return u(s)}function a(n){const s=R.get(e);s&&(s.delete(n),s.size||f())}function f(){R.delete(e)}function i(n,s){var r;(r=R.get(e))==null||r.forEach(v=>v(n,s))}return{on:u,once:d,off:a,emit:i,reset:f}}const G=1;function fe(e,o={}){const{throttle:u=0,idle:d=200,onStop:a=H,onScroll:f=H,offset:i={left:0,right:0,top:0,bottom:0},eventListenerOptions:n={capture:!1,passive:!0},behavior:s="auto",window:r=O,onError:v=l=>{console.error(l)}}=o,t=_(0),c=_(0),m=C({get(){return t.value},set(l){y(l,void 0)}}),p=C({get(){return c.value},set(l){y(void 0,l)}});function y(l,x){var h,M,F,A;if(!r)return;const b=E(e);if(!b)return;(F=b instanceof Document?r.document.body:b)==null||F.scrollTo({top:(h=E(x))!=null?h:p.value,left:(M=E(l))!=null?M:m.value,behavior:E(s)});const L=((A=b==null?void 0:b.document)==null?void 0:A.documentElement)||(b==null?void 0:b.documentElement)||b;m!=null&&(t.value=L.scrollLeft),p!=null&&(c.value=L.scrollTop)}const B=_(!1),w=j({left:!0,right:!1,top:!0,bottom:!1}),g=j({left:!1,right:!1,top:!1,bottom:!1}),q=l=>{B.value&&(B.value=!1,g.left=!1,g.right=!1,g.top=!1,g.bottom=!1,a(l))},Y=K(q,u+d),D=l=>{var x;if(!r)return;const h=((x=l==null?void 0:l.document)==null?void 0:x.documentElement)||(l==null?void 0:l.documentElement)||S(l),{display:M,flexDirection:F}=getComputedStyle(h),A=h.scrollLeft;g.left=A<t.value,g.right=A>t.value;const b=Math.abs(A)<=(i.left||0),L=Math.abs(A)+h.clientWidth>=h.scrollWidth-(i.right||0)-G;M==="flex"&&F==="row-reverse"?(w.left=L,w.right=b):(w.left=b,w.right=L),t.value=A;let T=h.scrollTop;l===r.document&&!T&&(T=r.document.body.scrollTop),g.top=T<c.value,g.bottom=T>c.value;const P=Math.abs(T)<=(i.top||0),V=Math.abs(T)+h.clientHeight>=h.scrollHeight-(i.bottom||0)-G;M==="flex"&&F==="column-reverse"?(w.top=V,w.bottom=P):(w.top=P,w.bottom=V),c.value=T},z=l=>{var x;if(!r)return;const h=(x=l.target.documentElement)!=null?x:l.target;D(h),B.value=!0,Y(l),f(l)};return $(e,"scroll",u?N(z,u,!0,!1):z,n),U(()=>{try{const l=E(e);if(!l)return;D(l)}catch(l){v(l)}}),$(e,"scrollend",q,n),{x:m,y:p,isScrolling:B,arrivedState:w,directions:g,measure(){const l=E(e);r&&l&&D(l)}}}function de(e={}){const{controls:o=!1,offset:u=0,immediate:d=!0,interval:a="requestAnimationFrame",callback:f}=e,i=_(X()+u),n=()=>i.value=X()+u,s=f?()=>{n(),f(i.value)}:n,r=a==="requestAnimationFrame"?le(s,{immediate:d}):J(s,a,{immediate:d});return o?{timestamp:i,...r}:i}export{de as a,S as b,fe as c,ce as d,re as e,ae as u};
