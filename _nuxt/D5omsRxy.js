var Q=Object.defineProperty;var X=(t,r,a)=>r in t?Q(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a;var D=(t,r,a)=>X(t,typeof r!="symbol"?r+"":r,a);import{_ as Z}from"./BfoQ-JzZ.js";import{_ as ee}from"./Q581tZPE.js";import{d as H,G as te,r as V,o as Y,b as z,H as ae,I as re,J as k,K as J,L as se,M as T,N as ne,C as oe,w as U,O as ie,n as le,D as p,P as ue,i as R,Q as ce,R as L,S as de,U as N,V as me,W as fe,X as pe,Y as ye,c as ve,g as m,f,Z as W,E as he,z as ge,$ as we}from"./C2xaVShD.js";import{u as be}from"./CC4DLhS_.js";import"./DWOvRQnr.js";function _e(t){return t.validate&&t.__isYupSchema__}function Se(t){return t.inner!==void 0}function Ee(t){return"schema"in t&&typeof t.coercer=="function"&&typeof t.validator=="function"&&typeof t.refiner=="function"}function Ie(t){return t.validateAsync!==void 0&&t.id!==void 0}function xe(t){return t.isJoi===!0}function je(t){return"~standard"in t}async function Fe(t,r){var s;const a=await r["~standard"].validate(t);return a.issues?{errors:((s=a.issues)==null?void 0:s.map(l=>{var u;return{name:((u=l.path)==null?void 0:u.map(c=>typeof c=="object"?c.key:c).join("."))||"",message:l.message}}))||[],result:null}:{errors:null,result:a.value}}async function Be(t,r){try{return{errors:null,result:await r.validate(t,{abortEarly:!1})}}catch(a){if(Se(a))return{errors:a.inner.map(l=>({name:l.path??"",message:l.message})),result:null};throw a}}async function Ce(t,r){const[a,s]=r.validate(t);return a?{errors:a.failures().map(u=>({message:u.message,name:u.path.join(".")})),result:null}:{errors:null,result:s}}async function Oe(t,r){try{return{errors:null,result:await r.validateAsync(t,{abortEarly:!1})}}catch(a){if(xe(a))return{errors:a.details.map(l=>({name:l.path.join("."),message:l.message})),result:null};throw a}}function Ve(t,r){if(je(r))return Fe(t,r);if(Ie(r))return Oe(t,r);if(_e(r))return Be(t,r);if(Ee(r))return Ce(t,r);throw new Error("Form validation failed: Unsupported form schema")}class P extends Error{constructor(a,s,l){super("Form validation exception");D(this,"formId");D(this,"errors");D(this,"children");this.formId=a,this.errors=s,this.children=l,Object.setPrototypeOf(this,P.prototype)}}const ke={base:""},Ue=de;var G;const Pe=L({extend:L(ke),...((G=Ue.ui)==null?void 0:G.form)||{}}),$e=H({__name:"Form",props:{id:{},schema:{},state:{},validate:{},validateOn:{default(){return["input","blur","change"]}},disabled:{type:Boolean},validateOnInputDelay:{default:300},transform:{type:Boolean,default:!0},class:{},onSubmit:{}},emits:["submit","error"],setup(t,{expose:r,emit:a}){const s=t,l=a,u=s.id??te(),c=be(`form-${u}`),o=re(N,void 0);k(N,c);const b=V(new Map);Y(async()=>{c.on(async e=>{var n;e.type==="attach"?b.value.set(e.formId,{validate:e.validate}):e.type==="detach"?b.value.delete(e.formId):(n=s.validateOn)!=null&&n.includes(e.type)&&!E.value&&(e.type!=="input"?await S({name:e.name,silent:!0,nested:!1}):(e.eager||_.has(e.name))&&await S({name:e.name,silent:!0,nested:!1})),e.type==="blur"&&_.add(e.name),(e.type==="change"||e.type==="input"||e.type==="blur"||e.type==="focus")&&$.add(e.name),(e.type==="change"||e.type==="input")&&w.add(e.name)})}),z(()=>{c.reset()}),Y(async()=>{o&&(await ae(),o.emit({type:"attach",validate:S,formId:u}))}),z(()=>{o&&o.emit({type:"detach",formId:u})});const i=V([]);k("form-errors",i);const y=V({});k(me,y);const w=new Set,$=new Set,_=new Set;function v(e){return e.map(n=>{var d;return{...n,id:n!=null&&n.name?(d=y.value[n.name])==null?void 0:d.id:void 0}})}const q=V(null);async function A(){let e=s.validate?await s.validate(s.state)??[]:[];if(s.schema){const{errors:n,result:d}=await Ve(s.state,s.schema);n?e=e.concat(n):q.value=d}return v(e)}async function S(e={silent:!1,nested:!0,transform:!1}){const n=e.name&&!Array.isArray(e.name)?[e.name]:e.name,d=!n&&e.nested?Array.from(b.value.values()).map(({validate:g})=>g(e).then(()=>{}).catch(I=>{if(!(I instanceof P))throw I;return I})):[];if(n){const g=i.value.filter(x=>!n.some(j=>{var B,C,O;const F=(C=(B=y.value)==null?void 0:B[j])==null?void 0:C.pattern;return j===x.name||F&&((O=x.name)==null?void 0:O.match(F))})),I=(await A()).filter(x=>n.some(j=>{var B,C,O;const F=(C=(B=y.value)==null?void 0:B[j])==null?void 0:C.pattern;return j===x.name||F&&((O=x.name)==null?void 0:O.match(F))}));i.value=g.concat(I)}else i.value=await A();const h=(await Promise.all(d)).filter(g=>g!==void 0);if(i.value.length+h.length>0){if(e.silent)return!1;throw new P(u,i.value,h)}return e.transform&&Object.assign(s.state,q.value),s.state}const E=V(!1);k(se,J(E));async function K(e){var d;E.value=!0;const n=e;try{n.data=await S({nested:!0,transform:s.transform}),await((d=s.onSubmit)==null?void 0:d.call(s,n))}catch(h){if(!(h instanceof P))throw h;const g={...n,errors:h.errors,children:h.children};l("error",g)}finally{E.value=!1}}const M=T(()=>s.disabled||E.value);return k(ne,T(()=>({disabled:M.value,validateOnInputDelay:s.validateOnInputDelay}))),r({validate:S,errors:i,setErrors(e,n){n?i.value=i.value.filter(d=>d.name!==n).concat(v(e)):i.value=v(e)},async submit(){await K(new Event("submit"))},getErrors(e){return e?i.value.filter(n=>n.name===e):i.value},clear(e){e?i.value=i.value.filter(n=>n.name!==e):i.value=[]},disabled:M,dirty:T(()=>!!w.size),dirtyFields:J(w),blurredFields:J(_),touchedFields:J($)}),(e,n)=>(R(),oe(ue(p(o)?"div":"form"),{id:p(u),class:le(p(Pe)({class:s.class})),onSubmit:ie(K,["prevent"])},{default:U(()=>[ce(e.$slots,"default",{errors:i.value})]),_:3},40,["id","class"]))}}),De={class:"dark:bg-gray-800 flex justify-center items-center h-screen"},Je={class:"absolute top-5 right-5 space-x-2"},Te={class:"lg:p-36 md:p-40 sm:20 p-8 w-full lg:w-1/2"},qe={class:"ring-2 ring-gray-200 dark:ring-gray-600 rounded p-6"},Ne=H({__name:"login",setup(t){const{t:r}=fe();pe();const a=ye({email:void 0,password:void 0}),s=async()=>{we("/")},l=c=>{const o=[];return c.email||o.push({path:"email",message:"Required"}),c.password||o.push({path:"password",message:"Required"}),o};async function u(c){console.log(c.data),s()}return(c,o)=>{const b=W("ColorThemeSelector"),i=Z,y=ee,w=W("UFormGroup"),$=he,_=$e;return R(),ve("div",De,[o[5]||(o[5]=m("div",{class:"w-1/2 h-screen hidden lg:block"},[m("img",{src:"https://images.unsplash.com/photo-1496917756835-20cb06e75b4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1908&q=80",alt:"Placeholder Image",class:"object-cover w-full h-full"})],-1)),m("div",Je,[f(b),f(i)]),m("div",Te,[m("div",qe,[o[3]||(o[3]=m("h1",{class:"text-2xl font-semibold mb-4"},"Login",-1)),f(_,{validate:l,state:p(a),class:"space-y-4",onSubmit:u},{default:U(()=>[f(w,{required:"",label:"Email",help:"We'll only use this for spam ;)",class:"mb-4"},{default:U(()=>[f(y,{placeholder:"you@example.com",icon:"i-heroicons-envelope",modelValue:p(a).email,"onUpdate:modelValue":o[0]||(o[0]=v=>p(a).email=v)},null,8,["modelValue"])]),_:1}),f(w,{label:"Password",required:""},{default:U(()=>[f(y,{type:"password",placeholder:"******",icon:"i-heroicons-key",modelValue:p(a).password,"onUpdate:modelValue":o[1]||(o[1]=v=>p(a).password=v)},null,8,["modelValue"])]),_:1}),f($,{type:"submit",block:"",size:"xl"},{default:U(()=>o[2]||(o[2]=[ge(" Log in ")])),_:1})]),_:1},8,["state"]),o[4]||(o[4]=m("div",{class:"mt-6 text-center"},[m("a",{href:"#",class:"hover:text-primary-600"},"Sign up Here")],-1))])])])}}});export{Ne as default};
