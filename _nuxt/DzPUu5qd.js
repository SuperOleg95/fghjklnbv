import{D as C,r as F,aF as D,a1 as O,ah as S,af as v,o as P,aw as W,a6 as I}from"./CX0YGnEc.js";function T(e){return S()?(v(e),!0):!1}function m(e){return typeof e=="function"?e():C(e)}const b=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const k=Object.prototype.toString,G=e=>k.call(e)==="[object Object]",L=()=>+Date.now(),p=()=>{};function j(e,r){function t(...n){return new Promise((i,o)=>{Promise.resolve(e(()=>r.apply(this,n),{fn:r,thisArg:this,args:n})).then(i).catch(o)})}return t}function M(e,r={}){let t,n,i=p;const o=a=>{clearTimeout(a),i(),i=p};return a=>{const l=m(e),s=m(r.maxWait);return t&&o(t),l<=0||s!==void 0&&s<=0?(n&&(o(n),n=null),Promise.resolve(a())):new Promise((u,w)=>{i=r.rejectOnCancel?w:u,s&&!n&&(n=setTimeout(()=>{t&&o(t),n=null,u(a())},s)),t=setTimeout(()=>{n&&o(n),n=null,u(a())},l)})}}function R(...e){let r=0,t,n=!0,i=p,o,c,a,l,s;!D(e[0])&&typeof e[0]=="object"?{delay:c,trailing:a=!0,leading:l=!0,rejectOnCancel:s=!1}=e[0]:[c,a=!0,l=!0,s=!1]=e;const u=()=>{t&&(clearTimeout(t),t=void 0,i(),i=p)};return g=>{const f=m(c),h=Date.now()-r,d=()=>o=g();return u(),f<=0?(r=Date.now(),d()):(h>f&&(l||!n)?(r=Date.now(),d()):a&&(o=new Promise((y,x)=>{i=s?x:y,t=setTimeout(()=>{r=Date.now(),n=!0,y(d()),u()},Math.max(0,f-h))})),!l&&!t&&(t=setTimeout(()=>n=!0,f)),n=!1,o)}}function V(e){return I()}function E(e,r=200,t={}){return j(M(r,t),e)}function _(e,r=200,t=!1,n=!0,i=!1){return j(R(r,t,n,i),e)}function q(e,r=!0,t){V()?P(e,t):r?e():W(e)}function z(e,r=1e3,t={}){const{immediate:n=!0,immediateCallback:i=!1}=t;let o=null;const c=F(!1);function a(){o&&(clearInterval(o),o=null)}function l(){c.value=!1,a()}function s(){const u=m(r);u<=0||(c.value=!0,i&&e(),a(),o=setInterval(e,u))}if(n&&b&&s(),D(r)||typeof r=="function"){const u=O(r,()=>{c.value&&b&&s()});T(u)}return T(l),{isActive:c,pause:l,resume:s}}export{z as a,T as b,L as c,_ as d,q as e,G as f,b as i,p as n,m as t,E as u};
