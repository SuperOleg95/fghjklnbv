import{_ as Y}from"./D2g879s6.js";import{_ as G}from"./fLnn5U4m.js";import{u as R,U as D}from"./BzsGqwYu.js";import{S as M,U as F,j as N,d as P,V as J,W,X as E,r as I,Y as T,Z as q,c as u,e as d,f,n as h,N as v,$,a0 as k,F as z,A as S,t as V,g as O,a1 as Z,o as H,b as L,a2 as Q,J as K,a3 as X,K as _,h as y,w as U,D as j,Q as x}from"./B1ltj6Xx.js";import{u as ee}from"./y-jM1jxH.js";import{u as te}from"./DEiRw7EF.js";import"./C2mXb3hb.js";import"./DHGir3b-.js";import"./UbtjZav2.js";import"./D1_sLVgU.js";import"./DOLAAPKB.js";const re={wrapper:"",inner:"",label:{wrapper:"flex content-center items-center justify-between",base:"block font-medium text-gray-700 dark:text-gray-200",required:"after:content-['*'] after:ms-0.5 after:text-red-500 dark:after:text-red-400"},size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base"},container:"mt-1 relative",description:"text-gray-500 dark:text-gray-400",hint:"text-gray-500 dark:text-gray-400",help:"mt-2 text-gray-500 dark:text-gray-400",error:"mt-2 text-red-500 dark:text-red-400",default:{size:"sm"}},A=M(F.ui.strategy,F.ui.formGroup,re),ae=P({inheritAttrs:!1,props:{name:{type:String,default:null},size:{type:String,default:null,validator(e){return Object.keys(A.size).includes(e)}},label:{type:String,default:null},description:{type:String,default:null},required:{type:Boolean,default:!1},help:{type:String,default:null},error:{type:[String,Boolean],default:null},hint:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},eagerValidation:{type:Boolean,default:!1}},setup(e){const{ui:a,attrs:n}=R("formGroup",J(e,"ui"),A,J(e,"class")),o=W("form-errors",null),l=E(()=>{var g,c;return e.error&&typeof e.error=="string"||typeof e.error=="boolean"?e.error:(c=(g=o==null?void 0:o.value)==null?void 0:g.find(b=>b.path===e.name))==null?void 0:c.message}),r=E(()=>a.value.size[e.size??A.default.size]),s=I(T());return q("form-group",{error:l,inputId:s,name:E(()=>e.name),size:E(()=>e.size),eagerValidation:E(()=>e.eagerValidation)}),{ui:a,attrs:n,inputId:s,size:r,error:l}}}),se=["for"];function ne(e,a,n,o,l,r){return u(),d("div",k({class:e.ui.wrapper},e.attrs),[f("div",{class:h(e.ui.inner)},[e.label||e.$slots.label?(u(),d("div",{key:0,class:h([e.ui.label.wrapper,e.size])},[f("label",{for:e.inputId,class:h([e.ui.label.base,e.required?e.ui.label.required:""])},[e.$slots.label?v(e.$slots,"label",$(k({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(u(),d(z,{key:1},[S(V(e.label),1)],64))],10,se),e.hint||e.$slots.hint?(u(),d("span",{key:0,class:h([e.ui.hint])},[e.$slots.hint?v(e.$slots,"hint",$(k({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(u(),d(z,{key:1},[S(V(e.hint),1)],64))],2)):O("",!0)],2)):O("",!0),e.description||e.$slots.description?(u(),d("p",{key:1,class:h([e.ui.description,e.size])},[e.$slots.description?v(e.$slots,"description",$(k({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(u(),d(z,{key:1},[S(V(e.description),1)],64))],2)):O("",!0)],2),f("div",{class:h([e.label?e.ui.container:""])},[v(e.$slots,"default",$(Z({error:e.error}))),typeof e.error=="string"&&e.error||e.$slots.error?(u(),d("p",{key:0,class:h([e.ui.error,e.size])},[e.$slots.error?v(e.$slots,"error",$(k({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(u(),d(z,{key:1},[S(V(e.error),1)],64))],2)):e.help||e.$slots.help?(u(),d("p",{key:1,class:h([e.ui.help,e.size])},[e.$slots.help?v(e.$slots,"help",$(k({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(u(),d(z,{key:1},[S(V(e.help),1)],64))],2)):O("",!0)],2)],16)}const oe=N(ae,[["render",ne]]);class B extends Error{constructor(a){super(a),this.message=a,Object.setPrototypeOf(this,B.prototype)}}const ie=P({props:{schema:{type:Object,default:void 0},state:{type:Object,required:!0},validate:{type:Function,default:()=>[]},validateOn:{type:Array,default:()=>["blur","input","change","submit"]}},emits:["submit","error"],setup(e,{expose:a,emit:n}){const o=T(),l=ee(`form-${o}`);H(()=>{l.on(async t=>{var i;t.type!=="submit"&&((i=e.validateOn)!=null&&i.includes(t.type))&&await c(t.path,{silent:!0})})}),L(()=>{l.reset()});const r=I([]);q("form-errors",r),q("form-events",l);const s=I({});q("form-inputs",s);async function g(){let t=await e.validate(e.state);if(e.schema)if(me(e.schema))t=t.concat(await fe(e.state,e.schema));else if(le(e.schema))t=t.concat(await de(e.state,e.schema));else if(pe(e.schema))t=t.concat(await he(e.state,e.schema));else if(ye(e.schema))t=t.concat(await ge(e.state,e.schema));else throw new Error("Form validation failed: Unsupported form schema");return t}async function c(t,i={silent:!1}){let m=t;if(t&&!Array.isArray(t)&&(m=[t]),m){const p=r.value.filter(w=>!m.includes(w.path)),C=(await g()).filter(w=>m.includes(w.path));r.value=p.concat(C)}else r.value=await g();if(r.value.length>0){if(i.silent)return!1;throw new B(`Form validation failed: ${JSON.stringify(r.value,null,2)}`)}return e.state}async function b(t){var m;const i=t;try{(m=e.validateOn)!=null&&m.includes("submit")&&await c();const p={...i,data:e.state};n("submit",p)}catch(p){if(!(p instanceof B))throw p;const C={...i,errors:r.value.map(w=>({...w,id:s.value[w.path]}))};n("error",C)}}return a({validate:c,errors:r,setErrors(t,i){r.value=t,i?r.value=r.value.filter(m=>m.path!==i).concat(t):r.value=t},async submit(){await b(new Event("submit"))},getErrors(t){return t?r.value.filter(i=>i.path===t):r.value},clear(t){t?r.value=r.value.filter(i=>i.path!==t):r.value=[]}}),{onSubmit:b}}});function le(e){return e.validate&&e.__isYupSchema__}function ue(e){return e.inner!==void 0}async function de(e,a){try{return await a.validate(e,{abortEarly:!1}),[]}catch(n){if(ue(n))return n.inner.map(o=>({path:o.path??"",message:o.message}));throw n}}function me(e){return e.parse!==void 0}async function fe(e,a){const n=await a.safeParseAsync(e);return n.success===!1?n.error.issues.map(o=>({path:o.path.join("."),message:o.message})):[]}function pe(e){return e.validateAsync!==void 0&&e.id!==void 0}function ce(e){return e.isJoi===!0}async function he(e,a){try{return await a.validateAsync(e,{abortEarly:!1}),[]}catch(n){if(ce(n))return n.details.map(o=>({path:o.path.join("."),message:o.message}));throw n}}function ye(e){return e._parse!==void 0}async function ge(e,a){const n=await a._parse(e);return n.issues?n.issues.map(o=>{var l;return{path:((l=o.path)==null?void 0:l.map(r=>r.key).join("."))||"",message:o.message}}):[]}function be(e,a,n,o,l,r){return u(),d("form",{onSubmit:a[0]||(a[0]=Q((...s)=>e.onSubmit&&e.onSubmit(...s),["prevent"]))},[v(e.$slots,"default")],32)}const ve=N(ie,[["render",be]]),we={class:"dark:bg-gray-800 flex justify-center items-center h-screen"},$e={class:"absolute top-5 right-5 space-x-2"},ke={class:"lg:p-36 md:p-40 sm:20 p-8 w-full lg:w-1/2"},Se={class:"ring-2 ring-gray-200 dark:ring-gray-600 rounded p-6"},Pe=P({__name:"login",setup(e){K(),te();const a=X({email:void 0,password:void 0}),n=async()=>{x("/")},o=r=>{const s=[];return r.email||s.push({path:"email",message:"Required"}),r.password||s.push({path:"password",message:"Required"}),s};async function l(r){console.log(r.data),n()}return(r,s)=>{const g=_("ColorThemeSelector"),c=Y,b=G,t=oe,i=D,m=ve;return u(),d("div",we,[s[5]||(s[5]=f("div",{class:"w-1/2 h-screen hidden lg:block"},[f("img",{src:"https://images.unsplash.com/photo-1496917756835-20cb06e75b4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1908&q=80",alt:"Placeholder Image",class:"object-cover w-full h-full"})],-1)),f("div",$e,[y(g),y(c)]),f("div",ke,[f("div",Se,[s[3]||(s[3]=f("h1",{class:"text-2xl font-semibold mb-4"},"Login",-1)),y(m,{validate:o,state:j(a),class:"space-y-4",onSubmit:l},{default:U(()=>[y(t,{required:"",label:"Email",help:"We'll only use this for spam ;)",class:"mb-4"},{default:U(()=>[y(b,{placeholder:"you@example.com",icon:"i-heroicons-envelope",modelValue:j(a).email,"onUpdate:modelValue":s[0]||(s[0]=p=>j(a).email=p)},null,8,["modelValue"])]),_:1}),y(t,{label:"Password",required:""},{default:U(()=>[y(b,{type:"password",placeholder:"******",icon:"i-heroicons-key",modelValue:j(a).password,"onUpdate:modelValue":s[1]||(s[1]=p=>j(a).password=p)},null,8,["modelValue"])]),_:1}),y(i,{type:"submit",block:"",size:"xl"},{default:U(()=>s[2]||(s[2]=[S(" Log in ")])),_:1})]),_:1},8,["state"]),s[4]||(s[4]=f("div",{class:"mt-6 text-center"},[f("a",{href:"#",class:"hover:text-primary-600"},"Sign up Here")],-1))])])])}}});export{Pe as default};
